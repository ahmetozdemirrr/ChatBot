version: "3.1"

rules:

- rule: Ask for mood before giving clothing advice
  steps:
  - intent: ask_clothing_advice
  - action: utter_ask_mood

- rule: Provide clothing advice based on mood
  steps:
  - intent: inform_mood
  - action: action_clothing_advice
      
- rule: Greet user and ask for name if not known
  condition:
  - slot_was_set:
    - name : null
  steps:
  - intent: greet
  - action: utter_ask_name

- rule: Greet user if name is known
  condition:
  - slot_was_set:
    - name
  steps:
  - intent: greet
  - action: utter_greet_for_known_name

- rule: Respond to name
  steps:
  - intent: inform_name
  - action: action_greet_user

- rule: Best mall center of home
  steps:
  - intent: ask_best_mall
  - action: utter_best_mall

- rule: Activate new season products form
  steps:
  - intent: request_new_season_products
  - action: new_season_products_form
  - active_loop: new_season_products_form

- rule: Submit new season products form
  condition:
  - active_loop: new_season_products_form
  steps:
  - action: new_season_products_form
  - active_loop: null
  - action: action_submit_new_season_products_form
  - intent: affirm
  - action: utter_thanks

- rule: Find product location in koctas
  steps:
  - intent: ask_product_location_koctas
  - action: action_find_product_location_koctas
  - slot_was_set:
      - campaign_ok

- rule: Handle empty messages
  steps:
    - intent: empty_message
    - action: action_listen_for_non_empty_message